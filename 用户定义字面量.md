字面量（literal）是用于表达源代码中一个固定值的表示法（notation）
C++自带四种字面量：
- 整形 对于一个没有特殊后缀的整形变量，默认为int
- 浮点型
- 字符
- 字符串

那么对于如下定义：
```cpp
double len=10.2;
```
此时len是单位是什么？

如果能写成下文就好了：
```cpp
double d1=10_cm;
double d2=10_mm;
```
为此，c++11允许用户自定义字面量，但是UDL必须以下划线开头，但不能是双下划线


[用户定义字面量](https://zh.cppreference.com/w/cpp/language/user_literal#Popover19-toggle:~:text=%E7%94%A8%E6%88%B7%E5%AE%9A%E4%B9%89%E5%AD%97%E9%9D%A2%E9%87%8F)

```cpp
#include<iostream>
using namespace std;
void operator""_r(const char *str,size_t len)
{
    cout<<str<<" "<<len<<endl;
}

#define std_meter 1;
long double  operator""_dm(long double d)
{
    return d/10*std_meter;
}
long double  operator""_cm(long double d)
{
    return d/100*std_meter;
}
int main()
{
    "abc"_r;
    cout<<0.5_dm/0.5_cm<<endl;
}

```
![image.png](https://yaaame-1317851743.cos.ap-beijing.myqcloud.com/20240428101959.png)

甚至可以这样，进制转换直接写成后缀：
```cpp
#include<iostream>
using namespace std;
int operator""_bin(const char *str,size_t len)
{
   int ans=0;
   for(int i=0;i<len;i++)
   {
        ans=(ans<<1)+str[i]-'0';
   }
   return ans;

}

#define std_meter 1;
long double  operator""_dm(long double d)
{
    return d/10*std_meter;
}
long double  operator""_cm(long double d)
{
    return d/100*std_meter;
}
int main()
{
    cout<<"10100"_bin<<endl;
    cout<<0.5_dm/0.5_cm<<endl;
}

```

![image.png](https://yaaame-1317851743.cos.ap-beijing.myqcloud.com/20240428102709.png)

但是要注意UDL形参列表有限制条件

![image.png](https://yaaame-1317851743.cos.ap-beijing.myqcloud.com/20240428102934.png)

像下面这种做法就是错误的
```cpp
long double d1=0.5;
cout<<d1_dm/0.5_cm<<endl;
```
因为此时d1是变量而不是字面量

