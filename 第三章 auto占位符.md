
## 重新定义的auto关键字

auto 占位符会让编译器去推导变量类型，如果我们编写的代码让编译器无法进行推导，那么使用auto会导致编译失败

```cpp
auto i;//编译失败
```
所以在使用auto占位符声明变量时必须初始化变量

- 当用一个auto关键字声明多个变量时，编译器遵从从左往右的推导规则
- c++20之前，无法在函数形参列表中使用auto声明形参，在c++14中，auto可以为lambda表达式声明形参


## 推导规则
- 如果auto声明的变量是按值初始化，则推导出的类型会忽略cv限定符
- 使用auto声明变量初始化时，目标对象如果是引用，则引用属性会被忽略
- 如果目标对象是数组或函数，则auto会被推导为队形的指针类型

![image.png](https://yaaame-1317851743.cos.ap-beijing.myqcloud.com/20240429230350.png)

由于auto b = \*d这一 句代码是按值赋值的，因此auto会直接推导为Base

## 什么时候使用auto

对于复杂类型，例如lambda表达式，可以直接用auto
或者容器迭代器

## 返回类型推导

如果有多重返回值，需要保证返回值类型是相同的

## 非类型模型形参占位符

C++17标准对auto关键字又一次进行了扩展，使它可以作为非类型 模板形参的占位符。当然，我们必须保证推导出来的类型是可以用作模 板形参的，否则无法通过编译

## 总结

auto占位符是现代C++中非常重要的特性，它能让代码变得更加简 洁，从而减少编码的时间，与此同时，它还可以配合一些其他特性，让 代码更加接近现代编程语言的风格。另外，本章虽然介绍了很多auto占 位符的特性，但事实上还有一些并未提及，因为它们涉及另外一个重要 的关键字decltype。